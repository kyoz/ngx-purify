<a class="pure-menu-item" (click)="onMenuItemClicked()" [routerLink]="menuItemData.url" [ngClass]="{
  'RTL' : (_settings.currentTextDir$ | async) === 'RTL'
 }">
  <div class="pure-menu-content content level-{{level}}"
    [ngClass]="{
      'active': (active | async),
      'opened': (opened | async),
      'opened-or-hovering-menu': (isOpenedOrHoveringMenu | async),
      'no-icon': (!menuItemData.icon && !(_menuContainer.isOpened$ | async)) || level !== 0,
      'fullwidth': (_mainContainer.isFullWidth$ | async)
    }">
    <!--Icon to replace menu item that doesn't have icon when shrink-->
    <mat-icon class="replace-icon">{{ menuItemData.icon ? menuItemData.icon : 'layers' }}</mat-icon>
    <!--Original icon-->
    <mat-icon class="icon" *ngIf="menuItemData.icon">{{ menuItemData.icon }}</mat-icon>
    <span class="name">{{ menuItemData.name | translate }}</span>
    <span class="badge" *ngIf="menuItemData.badge"
      [ngClass]="fixBadgeColor(menuItemData.badgeColor)"
      [ngStyle]="{
        'margin-right' : hasChildren && ((_settings.currentTextDir$ | async) !== 'RTL') ? '12px' : '16px',
        'margin-left' : hasChildren && ((_settings.currentTextDir$ | async) === 'RTL') ? '12px' : '16px'
      }">
      {{ menuItemData.badge }}
    </span>
    <mat-icon class="expand-icon" [ngClass]="{ 'expanded': (opened | async) }"
      *ngIf="hasChildren">keyboard_arrow_right</mat-icon>
  </div>
</a>

<div class="children" *ngIf="hasChildren" [ngStyle]="{ 'height.px': height }">
  <pure-menu-item *ngFor="let childMenuItem of menuItemData.children" 
    [parent]="_parent"
    [menuItemData]="childMenuItem"
    [level]="level+1"
    [isOpenedOrHoveringMenu]="isOpenedOrHoveringMenu">
  </pure-menu-item>
</div>
